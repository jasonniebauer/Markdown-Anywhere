<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta name="author" content="">
    <meta name="copyright" content="">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <!--<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png"/>-->
    <title>DocHub</title>
    <link rel="stylesheet" href="css/litespeed.css"/>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <nav class="navbar flex items-center justify-between mx-auto">
      <span id="backToMenu" class="flex items-center" style="color:#3578e5;height: 56px;width: 56px;">
        <i class="fas fa-angle-left" style="margin-left:12px;"></i>
      </span>
      <p id="appName" class="app-title">DocHub</p>
      <p id="docTitle" class="doc-title flex-auto">DocTitle.md</p>
      <span id="previewIcon" class="preview-icon flex justify-center items-center" style="font-size:20px;color:#3578e5;height: 56px;width: 56px;">
        <i class="far fa-eye"></i>
      </span>
      <span id="cancelPreview" class="hide flex justify-center items-center" style="font-size:20px;color:#3578e5;height: 56px;width: 56px;">
        <i class="far fa-eye-slash"></i>
      </span>
      <!-- <div>
        <a class="btn">Sign in</a>
        <a class="btn btn-primary">Sign up</a>
      </div> -->
    </nav>
    <section class="container flex items-stretch">
      <textarea id="textInput" class="border-none" autofocus></textarea>
      <div id="preview" class="preview-container overflow-auto"></div>
    </section>
    <div id="toolbar" class="toolbar flex justify-around items-center">
      <a class="flex justify-center items-center toolbar-icon">
        <span>
          <i class="fas fa-hashtag"></i>
        </span>
      </a>
      <a class="flex justify-center items-center toolbar-icon">
        <span>
          <i class="fas fa-link"></i>
        </span>
      </a>
      <a class="flex justify-center items-center toolbar-icon">
        <span>
          <i class="far fa-image"></i>
        </span>
      </a>
      <a class="flex justify-center items-center toolbar-icon">
        <span>
          <i class="fas fa-list-ul"></i>
        </span>
      </a>
      <a class="flex justify-center items-center toolbar-icon">
        <span>
          <i class="fas fa-table"></i>
        </span>
      </a>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
      var textInput = document.getElementById('textInput');
      textInput.value = '# DocHub\n\nA portable markdown editor.'
      var preview = document.getElementById('preview');

      function updatePreview(){
        preview.innerHTML =  marked(textInput.value);
      }

      updatePreview();

      document.addEventListener('input', function (event) {
        if (event.target.tagName.toLowerCase() == 'textarea') {
          updatePreview();
        }
      }, false);

      // toolbar
      // var button = document.querySelector('.button');
      var appName = document.getElementById('appName');
      var docTitle = document.getElementById('docTitle');
      var previewIcon = document.getElementById('previewIcon');
      var cancelPreview = document.getElementById('cancelPreview');
      var toolbar = document.getElementById('toolbar');
      var previewIcon = document.getElementById('previewIcon');

      previewIcon.addEventListener('click', function () {
        appName.classList.toggle('hide');
        previewIcon.classList.toggle('hide');
        textInput.classList.toggle('hide');
        toolbar.classList.toggle('hide');
        cancelPreview.classList.toggle('hide');
        
        textInput.style.display = 'none';
        preview.style.display = 'block'
      }, false);

      cancelPreview.addEventListener('click', function(){
        appName.classList.toggle('hide');
        previewIcon.classList.toggle('hide');
        textInput.classList.toggle('hide');
        toolbar.classList.toggle('hide');
        cancelPreview.classList.toggle('hide');
        
        textInput.style.display = 'block';
        preview.style.display = 'none'
      });
    </script>
    <script defer src="https://use.fontawesome.com/releases/v5.6.3/js/all.js" integrity="sha384-EIHISlAOj4zgYieurP0SdoiBYfGJKkgWedPHH4jCzpCXLmzVsw1ouK59MuUtP4a1" crossorigin="anonymous"></script>
  </body>
</html>