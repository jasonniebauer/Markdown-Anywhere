<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta name="author" content="">
    <meta name="copyright" content="">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <!--<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png"/>-->
    <title>DocHub</title>
    <link rel="stylesheet" href="css/litespeed.css"/>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <nav class="navbar flex items-center justify-between mx-auto">
      <span id="backToDocs" class="flex items-center" style="color:#3578e5;height: 56px;width: 56px;">
        <i class="fas fa-angle-left" style="margin-left:12px;"></i>
      </span>
      <p id="appName" class="app-title">DocHub</p>
      <p id="docTitle" class="doc-title flex-auto">DocTitle.md</p>
      <span id="previewIcon" class="preview-icon flex justify-center items-center" style="font-size:20px;color:#3578e5;height: 56px;width: 56px;">
        <i class="far fa-eye"></i>
      </span>
      <span id="cancelPreview" class="hide flex justify-center items-center" style="font-size:20px;color:#3578e5;height: 56px;width: 56px;">
        <i class="far fa-eye-slash"></i>
      </span>
      <!-- <div>
        <a class="btn">Sign in</a>
        <a class="btn btn-primary">Sign up</a>
      </div> -->
    </nav>
    <section id="container" class="container flex items-stretch">
      <div id="documents">

      </div>
      <div id="editor" class="editor flex flex-column">
        <textarea id="textInput" class="border-none" autofocus></textarea>
        <div id="toolbar" class="toolbar flex justify-around items-center">
          <a class="flex justify-center items-center toolbar-icon">
            <span>
              <i class="fas fa-hashtag"></i>
            </span>
          </a>
          <a class="flex justify-center items-center toolbar-icon">
            <span>
              <i class="fas fa-link"></i>
            </span>
          </a>
          <a class="flex justify-center items-center toolbar-icon">
            <span>
              <i class="far fa-image"></i>
            </span>
          </a>
          <a class="flex justify-center items-center toolbar-icon">
            <span>
              <i class="fas fa-list-ul"></i>
            </span>
          </a>
          <a class="flex justify-center items-center toolbar-icon">
            <span>
              <i class="fas fa-table"></i>
            </span>
          </a>
        </div>
      </div>
      <div id="preview" class="preview-container md-show overflow-auto"></div>
    </section>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
      var textInput = document.getElementById('textInput');
      textInput.value = 
        '# DocHub\n\n' + 
        'A progressive web app for writing markdown.\n\n' +
        '# Heading 1\n' +
        '## Heading 2\n' +
        '### Heading 3\n' +
        '#### Heading 4\n' +
        '##### Heading 5\n' +
        '###### Heading 6\n\n' +
        'Type `*Italic*` to get *Italic*\n\n' +
        'Type `**Bold**` to get **Bold**\n\n' +
        'Type `[Link](http://a.com)` to get a [Link](http://a.com)\n\n' +
        'Type `![Image](http://url/a.png)` to get ![Image](http://url/a.png)\n\n' +
        'Type `> Blockquote` to get:\n> Blockquote\n\n' +
        '* List\n* List\n* List\n\n' +
        '1. List\n2. List\n3. List\n\n'

      var preview = document.getElementById('preview');

      function updatePreview(){
        preview.innerHTML =  marked(textInput.value);
      }

      updatePreview();

      document.addEventListener('input', function (event) {
        if (event.target.tagName.toLowerCase() == 'textarea') {
          updatePreview();
        }
      });


      // toolbar
      // var button = document.querySelector('.button');
      var appName = document.getElementById('appName');
      var backToDocs = document.getElementById('backToDocs');
      var docTitle = document.getElementById('docTitle');
      var previewIcon = document.getElementById('previewIcon');
      var cancelPreview = document.getElementById('cancelPreview');
      var container = document.getElementById('container');
      var editor = document.getElementById('editor');
      var toolbar = document.getElementById('toolbar');
      var previewIcon = document.getElementById('previewIcon');

      function togglePreview(){
        appName.classList.toggle('hide');
        previewIcon.classList.toggle('hide');
        editor.classList.toggle('hide');
        textInput.classList.toggle('hide');
        toolbar.classList.toggle('hide');
        cancelPreview.classList.toggle('hide');
        textInput.classList.toggle('md-show');
        preview.classList.toggle('md-show');
      }

      backToDocs.addEventListener('click', function(){
        
      });

      previewIcon.addEventListener('click', function() {
        togglePreview();
      });

      cancelPreview.addEventListener('click', function(){
        togglePreview();
      });
    </script>
    <script defer src="https://use.fontawesome.com/releases/v5.6.3/js/all.js" integrity="sha384-EIHISlAOj4zgYieurP0SdoiBYfGJKkgWedPHH4jCzpCXLmzVsw1ouK59MuUtP4a1" crossorigin="anonymous"></script>
  </body>
</html>